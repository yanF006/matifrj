<%- include ('partials/header.ejs'); %>
<link rel="stylesheet" href="/CSS/cadConteudo.css">
<body onload="">
    <%- include ('partials/navbar-admin.ejs'); %>
    <div class="container-fluid mt-5">
      
        <div class="mb-3">
          <div class="card">
            <h5 class="card-header">Editar Conteudo</h5>
            <div class="card-body">
                  <form method = "POST" action="/editarConteudos">
                    <h5 class="card-title"></h5>
                        <label for="">Titulo</label> <br>
                        <input class="form-control" name="titulo"  type="text" value="<%= item[0].titulo%>"> <br>
                        <div class="mb-3">
                            <label for="editor" class="form-label">Conteúdo</label>
                            <textarea id="editor" name="descricao" class="form-control"> <%= item[0].descricao || 'AAAAAAA' %></textarea>
                            <!-- <input id="mathInput" type="text">
                            <label id="mathOutput"></label> -->
                          </div>
                          <label for="">Serie</label>
                     <select name="serie" class="form-select">
                        <option value=""></option>
                        <% [1, 2, 3].forEach(serie => { %>
                          <% if (serie == item[0].serie) { %>
                            <option value="<%= serie %>" selected><%= serie %></option>
                          <% } else { %>
                            <option value="<%= serie %>"><%= serie %></option>
                          <% } %>
                        <% }) %>
                     </select>
                          <label for="">Bimestre</label>
                     <select name="bimestre" class="form-select">
                        <option value=""></option>
                        <% [1, 2, 3, 4].forEach(bimestre => { %>
                          <% if (bimestre == item[0].bimestre) { %>
                            <option value="<%= bimestre %>" selected><%= bimestre %></option>
                          <% } else { %>
                            <option value="<%= bimestre %>"><%= bimestre %></option>
                          <% } %>
                        <% }) %>
                     </select>

                     <label for="">Categoria</label> <br>
                               <select class="form-select" name ="categoria">
                                <option  value=""></option>
                               <% categorias.forEach(result => { %>
                                <% if(result.id == item[0].categoria){%>
                                  <option  value="<%= result.id %>" selected><%= result.nome %></option>
                                  <% }else{%>
                                    <option  value="<%= result.id %>"><%= result.nome %></option>
                                    <% } %>
                               <% }) %>
                            </select>
                            <input type="hidden" value="<%= item[0].id %>" name="id">

                     <button class="btn btn-success" type="submit" >Enviar</button>
                    </form>
                    </div>
                </div>
        
              </div>
             
              
              <form action="">
                <div class="card">
                    <h5 class="card-header">Teste</h5>
                    <div class="card-body">
                        <h5 class="card-title"></h5>
                            <div class="mb-3">
                                <input id="mathInput" class="form-control" type="text">
                                <label id="mathOutput" class="form-label"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <button class="btn btn-warning w-25 m-lg-3" style="border-radius: 10px;" onclick="renderMath()">Teste</button>
       
            
           


            <!-- <button onclick="renderMath()">Botao</button> -->
  <script src="https://cdn.tiny.cloud/1/tippdkxqm4sb1wehnj2bla645u5sztdojzln239n7b2sd27w/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>
  <script>
    tinymce.init({
      selector: '#editor',
      plugins: 'lists link image table code',
      toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat | code',
      menubar: false,
      height: 300,
      skin: 'bootstrap',
      content_css: 'bootstrap',
      setup: function (editor) {
    editor.on('init', function () {
      editor.setContent(document.getElementById('editor').value);
    });
  }
    })


    function renderMath() {
      const input = document.getElementById("mathInput").value;
      const output = document.getElementById("mathOutput");
      output.innerHTML = `${input}`;
      MathJax.typeset();
    }

   

    

    // function renderMath() {
    //   const input = document.getElementById("mathInput").value;
    //         const output = document.getElementById("mathOutput");
    //         output.innerHTML = $$${input}$$;
    // }

   
  </script>
  <script src="/JS/script.js"></script>
</body>
<%- include ('partials/footer.ejs'); %>